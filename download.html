<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DNA Damage and Repair Database</title>
    <link rel="stylesheet" href="css/foundation.css">
    <link rel="stylesheet" href="css/app.css">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- jquery for filter -->
    <!-- <link href="http://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css"> -->
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script src="js/multifilter.js"></script>
    <!-- d3 script -->
    <script src="https://d3js.org/d3.v5.min.js"></script>

    <script src="/ui/external/jquery/jquery.js"></script>
    <script>
      $('#header').load('frontend/header.html');
      $('#footer').load('frontend/footer.html');
      console.log("here")
    </script>

        
    <!-- Font Style -->
    <link href="https://fonts.googleapis.com/css?family=Karla" rel="stylesheet">

    <!-- script for reading in JSON to table -->
    <!-- <script>
      $(function() {
        var rows = [];
        $.getJSON('testDownloads.json', function(data) {
          $.each(data.samples, function(i, f) {
            var tableRow = "<tr>" + "<td>" + f.organism + "</td>" + "<td>" + f.method + "</td>" + "<td>" + f.damage + "</td>" + "<td>" + f.cellType + "</td>"
                         + "<td>" + f.strain + "</td>" + "<td>" + f.time + "</td>" + "<td>" + f.replicate + "</td>" + "<td>" + f.link + "</td>" + "</tr>"
            $(tableRow).appendTo("#downloads tbody");
          });
        });
      });
    </script> -->

    <!-- call filtering function
    <script type="text/javascript">
      $(document).ready(function() {
        $(".filter").multifilter()
      });

      $(document).ready(function() {
        $(".filter").multifilter()
      })
    </script> -->
  </head>

  <body>
    <div class="off-canvas-wrapper">
      <div class="off-canvas-wrapper-inner" data-off-canvas-wrapper>
        <!-- KEEP -->
        <div class="off-canvas-content" data-off-canvas-content>
          <div id = "header"></div>

          <!-- HERO SECTION -->

          <section class="hero">
            <div class="wrap" style="width:90%;">
              <h1>Downloads</h1>
              <blockquote>Out of six billion base pairs, pick out a spot and we"ll tell you how it is repaired.<cite>Aziz Sancar, 2015 Nobel Laureate in Chemistry</cite></blockquote>
                  <p>This database serves the genomic maps of various DNA damage and repair of model organisms: Human, Mouse, Arabidopsis and E.coli. Damage and repair maps of the bulky adduct causing agents such as UV Cyclobutane pyrimidine dimers (CPDs), (6-4) Photoproduct, Cispatin, Oxiloplatin, Aflotoxin, Benzo[a]pyrene with a variety of treatments of different cell lines and strains are available. Start discovering now! </p>
                  <a href="#" class="button">Learn More on XR-seq</a>
                  <a href="#" class="button success">Learn More on Damage-seq</a>
              <p>Feel free to navigate and filter through this section and download any files you'd like to browse and use!</p>
              <!-- <a href="#" class="button">Learn More on XR-seq</a>
              <a href="#" class="button success">Learn More on Damage-seq</a> -->
            </div>
          </section>
          
          <!-- MAIN SECTION -->
          <section class="main">
          <div>
            <script type="text/javascript">
              d3.json("testDownloads.json", function(error, data) {
                if (error) throw error;
		  
                var sortAscending = true;
                var table = d3.select('#page-wrap').append('table');
                var titles = d3.keys(data[0]);
                var headers = table.append('thead').append('tr')
		                   .selectAll('th')
		                   .data(titles).enter()
		                   .append('th')
		                   .text(function (d) {
			                    return d;
		                    })
		                   .on('click', function (d) {
		                	   headers.attr('class', 'header');
		                	   
		                	   if (sortAscending) {
		                	     rows.sort(function(a, b) { return b[d] < a[d]; });
		                	     sortAscending = false;
		                	     this.className = 'aes';
		                	   } else {
		                		 rows.sort(function(a, b) { return b[d] > a[d]; });
		                		 sortAscending = true;
		                		 this.className = 'des';
		                	   }
		                	   
		                   });
		  
		            var rows = table.append('tbody').selectAll('tr')
		              .data(data).enter()
		              .append('tr');
		            rows.selectAll('td')
		              .data(function (d) {
		    	          return titles.map(function (k) {
		    		          return { 'value': d[k], 'name': k};
		    	        });
		            }).enter()
		            .append('td')
		            .attr('data-th', function (d) {
		    	        return d.name;
		            })
		            .text(function (d) {
		    	        return d.value;
		            });
	            });
            </script>
          <!--   <div class="wrap row"> -->
              <!-- Filters -->
              <!-- <div class="container">
                <div class="filters">
                  <h2>Filters</h2>
                  <div class="filter-container">
                    <input autocomplete="on" class="filter" name="organism" placeholder="Organism" data-col="organism"/>
                  </div>
                  <div class="filter-container">
                    <input autocomplete="on" class="filter" name="method" placeholder="Method" data-col="method"/>
                  </div>
                  <div class="filter-container">
                    <input autocomplete="on" class="filter" name="damage" placeholder="Damage" data-col="damage"/>
                  </div>
                  <div class="filter-container">
                    <input autocomplete="on" class="filter" name="celltype" placeholder="Cell Type" data-col="celltype"/>
                  </div>
                  <div class="filter-container">
                    <input autocomplete="on" class="filter" name="strain" placeholder="Strain" data-col="strain"/>
                  </div>
                  <div class="filter-container">
                    <input autocomplete="on" class="filter" name="time" placeholder="Time" data-col="time"/>
                  </div> -->
                  <!-- <div class="filter-container">
                    <input autocomplete="on" class="filter" name="replicate" placeholder="Replicate (A/B)" data-col="replicate"/>
                  </div> -->
                  <!-- <div class="filter-container">
                    <input autocomplete="on" class="filter" name="link" placeholder="Link name" data-col="link"/>
                  </div> -->
                  <!-- <div class="clearfix"></div>
                </div>
              </div>     -->
            <!-- Downloads Table -->
            <!-- <div class="container">
                <h2>File Downloads</h2>
                <table id="downloads">
                  <thead>
                    <th>Organism</th>
                    <th>Method</th>
                    <th>Damage</th>
                    <th>Cell Type</th>
                    <th>Strain</th>
                    <th>Time</th>
                    <th>Replicate (A/B)</th>
                    <th>Link name</th>
                  </thead>
                  
                  <tbody> -->
                    <!-- <tr><td>Human</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>WT</td> <td>0 H</td> <td>A</td> <td>human1.txt</td></tr>
                    <tr><td>Human</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>WT</td> <td>0 H</td> <td>B</td> <td>human2.txt</td></tr>
                    <tr><td>Human</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>WT</td> <td>2 H</td> <td>A</td> <td>human3.txt</td></tr>
                    <tr><td>Human</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>WT</td> <td>2 H</td> <td>B</td> <td>human4.txt</td></tr>
                    <tr><td>Human</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>CSB</td> <td>0 H</td> <td>A</td> <td>human5.txt</td></tr>
                    <tr><td>Human</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>CSB</td> <td>0 H</td> <td>B</td> <td>human6.txt</td></tr>
                    <tr><td>Human</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>GM12878</td> <td>WT</td> <td>2 H</td> <td>A</td> <td>human7.txt</td></tr>
                    <tr><td>Human</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>GM12878</td> <td>WT</td> <td>2 H</td> <td>B</td> <td>human8.txt</td></tr>
                    <tr><td>Human</td> <td>XR-seq</td> <td>CPD</td> <td>NHF1</td> <td>WT</td> <td>0 H</td> <td>A</td> <td>human9.txt</td></tr>
                    <tr><td>Human</td> <td>XR-seq</td> <td>CPD</td> <td>NHF1</td> <td>WT</td> <td>0 H</td> <td>B</td> <td>human10.txt</td></tr>
                    <tr><td>Human</td> <td>XR-seq</td> <td>CPD</td> <td>NHF1</td> <td>WT</td> <td>2 H</td> <td>A</td> <td>human11.txt</td></tr>
                    <tr><td>Human</td> <td>XR-seq</td> <td>CPD</td> <td>NHF1</td> <td>WT</td> <td>2 H</td> <td>B</td> <td>human12.txt</td></tr>

                    <tr><td>Mouse</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>WT</td> <td>0 H</td> <td>A</td> <td>mouse1.txt</td></tr>
                    <tr><td>Mouse</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>WT</td> <td>0 H</td> <td>B</td> <td>mouse2.txt</td></tr>
                    <tr><td>Mouse</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>WT</td> <td>2 H</td> <td>A</td> <td>mouse3.txt</td></tr>
                    <tr><td>Mouse</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>WT</td> <td>2 H</td> <td>B</td> <td>mouse4.txt</td></tr>
                    <tr><td>Mouse</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>CSB</td> <td>0 H</td> <td>A</td> <td>mouse5.txt</td></tr>
                    <tr><td>Mouse</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>NHF1</td> <td>CSB</td> <td>0 H</td> <td>B</td> <td>mouse6.txt</td></tr>
                    <tr><td>Mouse</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>GM12878</td> <td>WT</td> <td>2 H</td> <td>A</td> <td>mouse7.txt</td></tr>
                    <tr><td>Mouse</td> <td>Damage-seq</td> <td>Cisplatin</td> <td>GM12878</td> <td>WT</td> <td>2 H</td> <td>B</td> <td>mouse8.txt</td></tr>
                    <tr><td>Mouse</td> <td>XR-seq</td> <td>CPD</td> <td>NHF1</td> <td>WT</td> <td>0 H</td> <td>A</td> <td>mouse9.txt</td></tr>
                    <tr><td>Mouse</td> <td>XR-seq</td> <td>CPD</td> <td>NHF1</td> <td>WT</td> <td>0 H</td> <td>B</td> <td>mouse10.txt</td></tr>
                    <tr><td>Mouse</td> <td>XR-seq</td> <td>CPD</td> <td>NHF1</td> <td>WT</td> <td>2 H</td> <td>A</td> <td>mouse11.txt</td></tr>
                    <tr><td>Mouse</td> <td>XR-seq</td> <td>CPD</td> <td>NHF1</td> <td>WT</td> <td>2 H</td> <td>B</td> <td>mouse12.txt</td></tr> -->
                  <!-- </tbody>
                </table> -->
            <!-- </div> -->
          </div>
          </section>
          
          <!-- FOOTER -->
          <div id = "footer"></div>
        </div>
      </div>
    </div>

    <!-- <script src="js/vendor/jquery.js"></script> -->
    <!-- Keep above script out to prevent conflict w/ jquery script -->
    <script src="js/vendor/what-input.js"></script>
    <script src="js/vendor/foundation.js"></script>
    <script src="js/app.js"></script>
    <script src="js/accordion.js"></script>
  </body>
</html>